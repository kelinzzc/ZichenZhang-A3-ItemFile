<div class="home-page" ng-controller="HomeController as vm">
    <section class="hero-section">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">Let Love Spread, Let Hope Continue</h1>
                <p class="hero-description">
                    Join our charity events platform, participate in meaningful activities, and bring hope and change to those in need.
                </p>
                <div class="hero-actions">
                    <a href="/events" class="btn btn-primary btn-lg">
                        <i class="fas fa-calendar-alt"></i>
                        Browse Events
                    </a>
                    <a href="/search" class="btn btn-outline btn-lg">
                        <i class="fas fa-search"></i>
                        Search Events
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Statistics -->
    <section class="stats-section section">
        <div class="container">
            <div class="row">
                <div class="col-md-3 col-sm-6">
                    <div class="stat-card text-center">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <h3 class="stat-number">{{vm.formatNumber(vm.stats.total_events)}}</h3>
                        <p class="stat-label">Total Events</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="stat-card text-center">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <h3 class="stat-number">{{vm.formatNumber(vm.stats.active_events)}}</h3>
                        <p class="stat-label">Active Events</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="stat-card text-center">
                        <div class="stat-icon">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <h3 class="stat-number">{{vm.formatNumber(vm.stats.total_raised)}}</h3>
                        <p class="stat-label">Total Raised</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="stat-card text-center">
                        <div class="stat-icon">
                            <i class="fas fa-target"></i>
                        </div>
                        <h3 class="stat-number">{{vm.calculateProgress(vm.stats.total_raised, vm.stats.total_goal)}}%</h3>
                        <p class="stat-label">Goal Progress</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Events -->
    <section class="featured-events section">
        <div class="container">
            <h2 class="section-title">Featured Events</h2>
            
            <div ng-if="vm.isLoading" class="text-center">
                <div class="spinner"></div>
                <p>Loading featured events...</p>
            </div>
            
            <div ng-if="!vm.isLoading && vm.featuredEvents.length === 0" class="text-center">
                <p>No featured events available</p>
                <a href="/events" class="btn btn-primary mt-3">Browse All Events</a>
            </div>
            
            <div class="row" ng-if="!vm.isLoading && vm.featuredEvents.length > 0">
                <div class="col-lg-4 col-md-6" ng-repeat="event in vm.featuredEvents">
                    <div class="event-card card">
                        <div class="event-image">
                            <img ng-src="{{event.image_url || 'assets/images/event-default.jpg'}}" alt="{{event.title}}">
                            <div class="event-category">{{event.category_name}}</div>
                        </div>
                        
                        <div class="card-body">
                            <h3 class="event-title">{{event.title}}</h3>
                            <p class="event-description">{{event.description}}</p>
                            
                            <div class="event-meta">
                                <div class="meta-item">
                                    <i class="fas fa-calendar"></i>
                                    {{$root.formatDate(event.event_date)}}
                                </div>
                                <div class="meta-item">
                                    <i class="fas fa-map-marker-alt"></i>
                                    {{event.location}}
                                </div>
                                <div class="meta-item">
                                    <i class="fas fa-ticket-alt"></i>
                                    {{event.max_attendees - (event.total_tickets_sold || 0)}} tickets remaining
                                </div>
                            </div>
                            
                            <div class="event-progress">
                                <div class="progress-info">
                                    <span>Fundraising Progress</span>
                                    <span>{{$root.calculateProgress(event.current_amount, event.goal_amount)}}%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" 
                                         ng-style="{width: $root.calculateProgress(event.current_amount, event.goal_amount) + '%'}"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card-footer">
                            <div class="event-price">
                                <span class="price" ng-if="event.ticket_price > 0">
                                    {{$root.formatCurrency(event.ticket_price)}}
                                </span>
                                <span class="price free" ng-if="event.ticket_price === 0">
                                    Free
                                </span>
                            </div>
                            <a ng-href="/events/{{event.id}}" class="btn btn-primary btn-sm">
                                View Details
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-4" ng-if="!vm.isLoading && vm.featuredEvents.length > 0">
                <a href="/events" class="btn btn-outline">
                    <i class="fas fa-list"></i>
                    View All Events
                </a>
            </div>
        </div>
    </section>

    <!-- Call to Action -->
    <section class="cta-section section">
        <div class="container">
            <div class="cta-content text-center">
                <h2>Ready to Change the World?</h2>
                <p>Join us, participate in charity events, and bring hope to those in need</p>
                <div class="cta-actions">
                    <a href="/events" class="btn btn-primary btn-lg">
                        <i class="fas fa-rocket"></i>
                        Participate Now
                    </a>
                </div>
            </div>
        </div>
    </section>
</div>